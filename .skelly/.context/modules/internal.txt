# Module: internal

## internal/bench/benchmark_test.go
imports: [fmt, github.com/skelly-dev/skelly/internal/graph, github.com/skelly-dev/skelly/pkg/languages, os, path/filepath, testing]

### BenchmarkParseAndGraph_MediumRepo [func]
sig: func BenchmarkParseAndGraph_MediumRepo(b *testing.B)
calls: [internal/bench/benchmark_test.go|32|func|createSyntheticGoRepo|84a4682e{resolved}, internal/graph/graph.go|45|func|BuildFromParseResult|6a44055d{heuristic}, pkg/languages/registry.go|6|func|NewDefaultRegistry|1f86a25d{heuristic}]

### createSyntheticGoRepo [func]
sig: func createSyntheticGoRepo(tb testing.TB, root string, files int)
called_by: [internal/bench/benchmark_test.go|13|func|BenchmarkParseAndGraph_MediumRepo|56a3edee]

## internal/graph/graph.go
imports: [github.com/skelly-dev/skelly/internal/parser, path/filepath, sort, strings]

### Node [struct]
sig: type Node struct

### Graph [struct]
sig: type Graph struct

### symbolLookups [struct]
sig: type symbolLookups struct

### NewGraph [func]
sig: func NewGraph() *Graph
called_by: [internal/graph/graph.go|55|func|buildFromParseResult|ad0d3aaf]

### BuildFromParseResult [func]
sig: func BuildFromParseResult(result *parser.ParseResult) *Graph
calls: [internal/graph/graph.go|55|func|buildFromParseResult|ad0d3aaf{resolved}]
called_by: [cmd/skelly/main.go|364|func|generateContext|6722d3e0, cmd/skelly/main.go|526|func|runUpdate|b18e5b16, cmd/skelly/main.go|837|func|runEnrich|b04320d1, internal/bench/benchmark_test.go|13|func|BenchmarkParseAndGraph_MediumRepo|56a3edee, internal/graph/graph_test.go|81|func|TestBuildGraphPrefersImportAliasMatches|12ea1b3f, internal/graph/graph_test.go|9|func|TestBuildGraphUsesStableIDsAndScopedResolution|035e7a11]

### BuildFromParseResultForSources [func]
sig: func BuildFromParseResultForSources(result *parser.ParseResult, sourceFiles map[string]bool) *Graph
calls: [internal/graph/graph.go|55|func|buildFromParseResult|ad0d3aaf{resolved}]
called_by: [cmd/skelly/main.go|526|func|runUpdate|b18e5b16]

### buildFromParseResult [func]
sig: func buildFromParseResult(result *parser.ParseResult, sourceFiles map[string]bool, withPageRank bool) *Graph
calls: [internal/graph/graph.go|118|func|buildSymbolLookup|95153e2c{resolved}, internal/graph/graph.go|176|method|calculatePageRank|bc152c15{resolved}, internal/graph/graph.go|234|method|normalizeEdges|1a99f113{resolved}, internal/graph/graph.go|300|func|makeNodeID|4281d7cd{resolved}, internal/graph/graph.go|316|method|resolve|3ae536b2{resolved}, internal/graph/graph.go|37|func|NewGraph|722e28ed{resolved}, internal/graph/graph.go|511|func|mergeConfidence|6dcd0d6a{resolved}]
called_by: [internal/graph/graph.go|45|func|BuildFromParseResult|6a44055d, internal/graph/graph.go|51|func|BuildFromParseResultForSources|fd9bdcb7]

### buildSymbolLookup [func]
sig: func buildSymbolLookup(result *parser.ParseResult) symbolLookups
calls: [internal/graph/graph.go|248|func|dedupeAndSort|a73b74a3{resolved}, internal/graph/graph.go|300|func|makeNodeID|4281d7cd{resolved}, internal/graph/graph.go|414|func|buildImportAliasCandidates|f1edf68d{resolved}, internal/graph/graph.go|502|func|moduleName|6afba13f{resolved}]
called_by: [internal/graph/graph.go|55|func|buildFromParseResult|ad0d3aaf]

### calculatePageRank [method]
sig: (g *Graph) func calculatePageRank(iterations int, dampingFactor float64)
called_by: [internal/graph/graph.go|55|func|buildFromParseResult|ad0d3aaf]

### TopNodes [method]
sig: (g *Graph) func TopNodes(n int) []*Node

### normalizeEdges [method]
sig: (g *Graph) func normalizeEdges()
calls: [internal/graph/graph.go|248|func|dedupeAndSort|a73b74a3{resolved}]
called_by: [internal/graph/graph.go|55|func|buildFromParseResult|ad0d3aaf]

### dedupeAndSort [func]
sig: func dedupeAndSort(values []string) []string
called_by: [internal/graph/graph.go|118|func|buildSymbolLookup|95153e2c, internal/graph/graph.go|234|method|normalizeEdges|1a99f113, internal/graph/graph.go|394|func|chooseUnique|aaadaa82, internal/graph/graph.go|402|method|collectFromFiles|2cdc8cdd, internal/graph/graph.go|414|func|buildImportAliasCandidates|f1edf68d]

### NodesForFile [method]
sig: (g *Graph) func NodesForFile(file string) []*Node

### Files [method]
sig: (g *Graph) func Files() []string

### makeNodeID [func]
sig: func makeNodeID(file string, symbol parser.Symbol) string
calls: [internal/parser/symbol_id.go|11|func|StableSymbolID|7d6a9c39{heuristic}]
called_by: [internal/graph/graph.go|118|func|buildSymbolLookup|95153e2c, internal/graph/graph.go|55|func|buildFromParseResult|ad0d3aaf]

### ParseNodeID [func]
sig: func ParseNodeID(id string) (file, symbol string)
called_by: [cmd/skelly/main.go|1952|func|applyGraphDependencies|44444469, internal/graph/graph_test.go|9|func|TestBuildGraphUsesStableIDsAndScopedResolution|035e7a11]

### resolve [method]
sig: (l symbolLookups) func resolve(sourceFile string, sourceSymbol parser.Symbol, call parser.CallSite) (targetIDs []string, confidence string, ok bool)
calls: [internal/graph/graph.go|369|func|callIsReceiverScoped|0be01702{resolved}, internal/graph/graph.go|381|func|primaryQualifier|28cfacf4{resolved}, internal/graph/graph.go|394|func|chooseUnique|aaadaa82{resolved}, internal/graph/graph.go|402|method|collectFromFiles|2cdc8cdd{resolved}, internal/graph/graph.go|502|func|moduleName|6afba13f{resolved}]
called_by: [internal/graph/graph.go|55|func|buildFromParseResult|ad0d3aaf]

### callIsReceiverScoped [func]
sig: func callIsReceiverScoped(call parser.CallSite) bool
called_by: [internal/graph/graph.go|316|method|resolve|3ae536b2]

### primaryQualifier [func]
sig: func primaryQualifier(value string) string
called_by: [internal/graph/graph.go|316|method|resolve|3ae536b2]

### chooseUnique [func]
sig: func chooseUnique(targetIDs []string, confidence string) ([]string, string, bool)
calls: [internal/graph/graph.go|248|func|dedupeAndSort|a73b74a3{resolved}]
called_by: [internal/graph/graph.go|316|method|resolve|3ae536b2]

### collectFromFiles [method]
sig: (l symbolLookups) func collectFromFiles(files []string, callName string) []string
calls: [internal/graph/graph.go|248|func|dedupeAndSort|a73b74a3{resolved}]
called_by: [internal/graph/graph.go|316|method|resolve|3ae536b2]

### buildImportAliasCandidates [func]
sig: func buildImportAliasCandidates(result *parser.ParseResult) map[string]map[string][]string
calls: [internal/graph/graph.go|248|func|dedupeAndSort|a73b74a3{resolved}, internal/graph/graph.go|455|func|matchImportCandidates|397c04ba{resolved}, internal/graph/graph.go|493|func|defaultAliasFromImport|71c1147a{resolved}]
called_by: [internal/graph/graph.go|118|func|buildSymbolLookup|95153e2c]

### matchImportCandidates [func]
sig: func matchImportCandidates(sourceFile, importPath string, allFiles []string) []string
calls: [internal/graph/graph.go|470|func|importMatchesFile|7c1c9c31{resolved}]
called_by: [internal/graph/graph.go|414|func|buildImportAliasCandidates|f1edf68d]

### importMatchesFile [func]
sig: func importMatchesFile(sourceFile, importPath, targetFile string) bool
called_by: [internal/graph/graph.go|455|func|matchImportCandidates|397c04ba]

### defaultAliasFromImport [func]
sig: func defaultAliasFromImport(importPath string) string
called_by: [internal/graph/graph.go|414|func|buildImportAliasCandidates|f1edf68d]

### moduleName [func]
sig: func moduleName(file string) string
called_by: [internal/graph/graph.go|118|func|buildSymbolLookup|95153e2c, internal/graph/graph.go|316|method|resolve|3ae536b2]

### mergeConfidence [func]
sig: func mergeConfidence(current, next string) string
called_by: [internal/graph/graph.go|55|func|buildFromParseResult|ad0d3aaf]

## internal/graph/graph_test.go
imports: [github.com/skelly-dev/skelly/internal/parser, testing]

### TestBuildGraphUsesStableIDsAndScopedResolution [func]
sig: func TestBuildGraphUsesStableIDsAndScopedResolution(t *testing.T)
calls: [internal/graph/graph.go|308|func|ParseNodeID|a1899dc9{heuristic}, internal/graph/graph.go|45|func|BuildFromParseResult|6a44055d{heuristic}, internal/graph/graph_test.go|129|func|findNodeByName|4026f518{resolved}]

### TestBuildGraphPrefersImportAliasMatches [func]
sig: func TestBuildGraphPrefersImportAliasMatches(t *testing.T)
calls: [internal/graph/graph.go|45|func|BuildFromParseResult|6a44055d{heuristic}, internal/graph/graph_test.go|129|func|findNodeByName|4026f518{resolved}]

### findNodeByName [func]
sig: func findNodeByName(t *testing.T, g *Graph, file, name string) *Node
called_by: [internal/graph/graph_test.go|81|func|TestBuildGraphPrefersImportAliasMatches|12ea1b3f, internal/graph/graph_test.go|9|func|TestBuildGraphUsesStableIDsAndScopedResolution|035e7a11]

## internal/ignore/matcher.go
imports: [path/filepath, regexp, strings]

### rule [struct]
sig: type rule struct

### Matcher [struct]
sig: type Matcher struct

### NewMatcher [func]
sig: func NewMatcher(userRules []string) *Matcher
calls: [internal/ignore/matcher.go|62|func|parseRule|57240e99{resolved}]
called_by: [cmd/skelly/main.go|1844|func|scanFileHashes|2c115421, internal/ignore/matcher_test.go|34|func|TestMatcher_NegatedDirectoryRule|10ed4f3b, internal/ignore/matcher_test.go|5|func|TestMatcher_DefaultAndUserOverrides|50d4baa4, internal/parser/parser.go|101|method|ParseDirectory|15b3026d]

### ShouldIgnore [method]
sig: (m *Matcher) func ShouldIgnore(relPath string, isDir bool) bool
calls: [internal/ignore/matcher.go|186|func|normalizePath|ff09811f{resolved}, internal/ignore/matcher.go|90|func|ruleMatches|5d62aa52{resolved}]

### parseRule [func]
sig: func parseRule(line string) (rule, bool)
calls: [internal/ignore/matcher.go|186|func|normalizePath|ff09811f{resolved}]
called_by: [internal/ignore/matcher.go|23|func|NewMatcher|ae58e14e]

### ruleMatches [func]
sig: func ruleMatches(rule rule, relPath string, isDir bool) bool
calls: [internal/ignore/matcher.go|133|func|matchDirectoryPattern|03ed4780{resolved}, internal/ignore/matcher.go|152|func|matchPathPattern|e6bcc0e4{resolved}, internal/ignore/matcher.go|186|func|normalizePath|ff09811f{resolved}]
called_by: [internal/ignore/matcher.go|51|method|ShouldIgnore|1ac578c0]

### matchDirectoryPattern [func]
sig: func matchDirectoryPattern(rule rule, relPath string) bool
called_by: [internal/ignore/matcher.go|90|func|ruleMatches|5d62aa52]

### matchPathPattern [func]
sig: func matchPathPattern(pattern, value string) bool
calls: [internal/ignore/matcher.go|158|func|globToRegex|7ebb2a1f{resolved}]
called_by: [internal/ignore/matcher.go|90|func|ruleMatches|5d62aa52]

### globToRegex [func]
sig: func globToRegex(pattern string) string
called_by: [internal/ignore/matcher.go|152|func|matchPathPattern|e6bcc0e4]

### normalizePath [func]
sig: func normalizePath(path string) string
called_by: [internal/ignore/matcher.go|51|method|ShouldIgnore|1ac578c0, internal/ignore/matcher.go|62|func|parseRule|57240e99, internal/ignore/matcher.go|90|func|ruleMatches|5d62aa52]

## internal/ignore/matcher_test.go
imports: [testing]

### TestMatcher_DefaultAndUserOverrides [func]
sig: func TestMatcher_DefaultAndUserOverrides(t *testing.T)
calls: [internal/ignore/matcher.go|23|func|NewMatcher|ae58e14e{heuristic}]

### TestMatcher_NegatedDirectoryRule [func]
sig: func TestMatcher_NegatedDirectoryRule(t *testing.T)
calls: [internal/ignore/matcher.go|23|func|NewMatcher|ae58e14e{heuristic}]

## internal/output/writer.go
imports: [bytes, crypto/sha256, encoding/hex, encoding/json, fmt, github.com/skelly-dev/skelly/internal/graph, github.com/skelly-dev/skelly/internal/parser, os, path/filepath, sort, strings]

### Format [struct]
sig: type Format string
called_by: [internal/output/writer.go|36|func|ParseFormat|dab046c0]

### ParseFormat [func]
sig: func ParseFormat(raw string) (Format, error)
calls: [internal/output/writer.go|29|struct|Format|982b28ba{resolved}]
called_by: [cmd/skelly/main.go|454|func|parseOutputFormat|5e757eb9]

### Writer [struct]
sig: type Writer struct

### NewWriter [func]
sig: func NewWriter(rootPath string) *Writer
called_by: [cmd/skelly/main.go|162|func|runInit|85fdc691, cmd/skelly/main.go|364|func|generateContext|6722d3e0, cmd/skelly/main.go|526|func|runUpdate|b18e5b16]

### Init [method]
sig: (w *Writer) func Init() error
called_by: [internal/output/writer.go|79|method|WriteAll|609927ff]

### WriteAll [method]
sig: (w *Writer) func WriteAll(g *graph.Graph, parseResult *parser.ParseResult, format Format) error
calls: [internal/output/writer.go|113|method|WriteIndex|7f1a88e1{resolved}, internal/output/writer.go|142|method|WriteGraph|a50e2c55{resolved}, internal/output/writer.go|166|method|WriteModules|a2f67682{resolved}, internal/output/writer.go|319|method|WriteJSONL|bc1928ce{resolved}, internal/output/writer.go|419|method|removeTextArtifacts|0f376094{resolved}, internal/output/writer.go|429|method|removeJSONLArtifacts|d0e1911e{resolved}, internal/output/writer.go|63|method|Init|9bd005a4{resolved}]

### WriteIndex [method]
sig: (w *Writer) func WriteIndex(g *graph.Graph) error
calls: [internal/output/writer.go|456|func|writeIfChanged|f6ac3f9d{resolved}]
called_by: [internal/output/writer.go|79|method|WriteAll|609927ff]

### WriteGraph [method]
sig: (w *Writer) func WriteGraph(g *graph.Graph) error
calls: [internal/output/writer.go|267|func|formatEdgesWithConfidence|ab123a71{resolved}, internal/output/writer.go|456|func|writeIfChanged|f6ac3f9d{resolved}]
called_by: [internal/output/writer.go|79|method|WriteAll|609927ff]

### WriteModules [method]
sig: (w *Writer) func WriteModules(g *graph.Graph, parseResult *parser.ParseResult) error
calls: [internal/output/writer.go|207|method|writeModuleFile|29f30fda{resolved}, internal/output/writer.go|257|func|getModuleName|c9dea125{resolved}, internal/output/writer.go|280|func|moduleFilename|dda0c7ba{resolved}, internal/output/writer.go|399|method|removeStaleModuleFiles|ed537e50{resolved}]
called_by: [internal/output/writer.go|79|method|WriteAll|609927ff]

### writeModuleFile [method]
sig: (w *Writer) func writeModuleFile(module string, files []string, g *graph.Graph, fileImports map[string][]string) error
calls: [internal/output/writer.go|267|func|formatEdgesWithConfidence|ab123a71{resolved}, internal/output/writer.go|280|func|moduleFilename|dda0c7ba{resolved}, internal/output/writer.go|456|func|writeIfChanged|f6ac3f9d{resolved}]
called_by: [internal/output/writer.go|166|method|WriteModules|a2f67682]

### getModuleName [func]
sig: func getModuleName(file string) string
called_by: [internal/output/writer.go|166|method|WriteModules|a2f67682]

### formatEdgesWithConfidence [func]
sig: func formatEdgesWithConfidence(node *graph.Node) []string
called_by: [internal/output/writer.go|142|method|WriteGraph|a50e2c55, internal/output/writer.go|207|method|writeModuleFile|29f30fda]

### moduleFilename [func]
sig: func moduleFilename(module string) string
called_by: [internal/output/writer.go|166|method|WriteModules|a2f67682, internal/output/writer.go|207|method|writeModuleFile|29f30fda]

### symbolRecord [struct]
sig: type symbolRecord struct

### edgeRecord [struct]
sig: type edgeRecord struct

### manifestRecord [struct]
sig: type manifestRecord struct

### manifestCount [struct]
sig: type manifestCount struct

### manifestArtifact [struct]
sig: type manifestArtifact struct

### WriteJSONL [method]
sig: (w *Writer) func WriteJSONL(g *graph.Graph, parseResult *parser.ParseResult) error
calls: [internal/output/writer.go|439|func|encodeJSONL|8a5bf3d2{resolved}, internal/output/writer.go|451|func|shortHash|974201bf{resolved}, internal/output/writer.go|456|func|writeIfChanged|f6ac3f9d{resolved}]
called_by: [internal/output/writer.go|79|method|WriteAll|609927ff]

### removeStaleModuleFiles [method]
sig: (w *Writer) func removeStaleModuleFiles(desired map[string]bool) error
called_by: [internal/output/writer.go|166|method|WriteModules|a2f67682, internal/output/writer.go|419|method|removeTextArtifacts|0f376094]

### removeTextArtifacts [method]
sig: (w *Writer) func removeTextArtifacts() error
calls: [internal/output/writer.go|399|method|removeStaleModuleFiles|ed537e50{resolved}]
called_by: [internal/output/writer.go|79|method|WriteAll|609927ff]

### removeJSONLArtifacts [method]
sig: (w *Writer) func removeJSONLArtifacts() error
called_by: [internal/output/writer.go|79|method|WriteAll|609927ff]

### encodeJSONL [func]
sig: func encodeJSONL(records []T) ([]byte, error)
called_by: [internal/output/writer.go|319|method|WriteJSONL|bc1928ce]

### shortHash [func]
sig: func shortHash(data []byte) string
called_by: [internal/output/writer.go|319|method|WriteJSONL|bc1928ce]

### writeIfChanged [func]
sig: func writeIfChanged(path string, data []byte) error
called_by: [internal/output/writer.go|113|method|WriteIndex|7f1a88e1, internal/output/writer.go|142|method|WriteGraph|a50e2c55, internal/output/writer.go|207|method|writeModuleFile|29f30fda, internal/output/writer.go|319|method|WriteJSONL|bc1928ce]

## internal/parser/parser.go
imports: [crypto/sha256, encoding/hex, fmt, github.com/skelly-dev/skelly/internal/ignore, io, os, path/filepath, sort, strings]

### LanguageParser [interface]
sig: type LanguageParser interface

### Registry [struct]
sig: type Registry struct

### NewRegistry [func]
sig: func NewRegistry() *Registry
called_by: [internal/parser/registry_test.go|38|func|TestRegistryGetParserForFile|266e5172, internal/parser/registry_test.go|51|func|TestParseDirectoryRespectsIgnoreRules|2144bc3d, pkg/languages/registry.go|6|func|NewDefaultRegistry|1f86a25d]

### Register [method]
sig: (r *Registry) func Register(p LanguageParser)

### GetParserForFile [method]
sig: (r *Registry) func GetParserForFile(filename string) (LanguageParser, bool)
called_by: [internal/parser/parser.go|101|method|ParseDirectory|15b3026d, internal/parser/parser.go|72|method|ParseFile|03a72a4a]

### SupportedExtensions [method]
sig: (r *Registry) func SupportedExtensions() []string

### ParseFile [method]
sig: (r *Registry) func ParseFile(path string) (*FileSymbols, error)
calls: [internal/parser/parser.go|178|func|hashContent|c65f9c5d{resolved}, internal/parser/parser.go|198|func|normalizeStrings|5d960a40{resolved}, internal/parser/parser.go|217|func|normalizeCallSites|97d26ca8{resolved}, internal/parser/parser.go|266|func|normalizeImportAliases|0082b37a{resolved}, internal/parser/parser.go|52|method|GetParserForFile|ecf13468{resolved}]
called_by: [internal/parser/parser.go|101|method|ParseDirectory|15b3026d]

### ParseDirectory [method]
sig: (r *Registry) func ParseDirectory(root string, ignorePaths []string) (*ParseResult, error)
calls: [internal/ignore/matcher.go|23|func|NewMatcher|ae58e14e{heuristic}, internal/parser/parser.go|52|method|GetParserForFile|ecf13468{resolved}, internal/parser/parser.go|72|method|ParseFile|03a72a4a{resolved}, internal/parser/symbol_id.go|11|func|StableSymbolID|7d6a9c39{heuristic}]

### hashContent [func]
sig: func hashContent(content []byte) string
called_by: [internal/parser/parser.go|72|method|ParseFile|03a72a4a]

### hashFile [func]
sig: func hashFile(path string) (string, error)

### normalizeStrings [func]
sig: func normalizeStrings(values []string) []string
called_by: [internal/parser/parser.go|72|method|ParseFile|03a72a4a]

### normalizeCallSites [func]
sig: func normalizeCallSites(values []CallSite) []CallSite
called_by: [internal/parser/parser.go|72|method|ParseFile|03a72a4a]

### normalizeImportAliases [func]
sig: func normalizeImportAliases(values map[string]string) map[string]string
called_by: [internal/parser/parser.go|72|method|ParseFile|03a72a4a]

## internal/parser/registry_test.go
imports: [os, path/filepath, sort, testing]

### mockParser [struct]
sig: type mockParser struct

### Language [method]
sig: (m mockParser) func Language() string
called_by: [internal/parser/registry_test.go|38|func|TestRegistryGetParserForFile|266e5172]

### Extensions [method]
sig: (m mockParser) func Extensions() []string

### Parse [method]
sig: (m mockParser) func Parse(filename string, content []byte) (*FileSymbols, error)

### TestRegistryGetParserForFile [func]
sig: func TestRegistryGetParserForFile(t *testing.T)
calls: [internal/parser/parser.go|35|func|NewRegistry|d345f5cc{heuristic}, internal/parser/registry_test.go|15|method|Language|8644c325{resolved}]

### TestParseDirectoryRespectsIgnoreRules [func]
sig: func TestParseDirectoryRespectsIgnoreRules(t *testing.T)
calls: [internal/parser/parser.go|35|func|NewRegistry|d345f5cc{heuristic}, internal/parser/registry_test.go|86|func|mustWriteFile|d4805ab9{resolved}]

### mustWriteFile [func]
sig: func mustWriteFile(t *testing.T, path, content string)
called_by: [internal/parser/registry_test.go|51|func|TestParseDirectoryRespectsIgnoreRules|2144bc3d]

## internal/parser/symbol_id.go
imports: [crypto/sha1, encoding/hex, fmt]

### StableSymbolID [func]
sig: func StableSymbolID(file string, symbol Symbol) string
called_by: [cmd/skelly/main.go|1732|func|cloneSymbolsSorted|a5e3e84e, cmd/skelly/main.go|1751|func|buildEnrichRecord|f9499681, cmd/skelly/main.go|1943|func|ensureSymbolIDs|e8e5a047, internal/graph/graph.go|300|func|makeNodeID|4281d7cd, internal/parser/parser.go|101|method|ParseDirectory|15b3026d]

## internal/parser/types.go
imports: [encoding/json, strings]

### SymbolKind [struct]
sig: type SymbolKind int

### String [method]
sig: (k SymbolKind) func String() string

### CallSite [struct]
sig: type CallSite struct

### Symbol [struct]
sig: type Symbol struct

### UnmarshalJSON [method]
sig: (s *Symbol) func UnmarshalJSON(data []byte) error

### wireSymbol [struct]
sig: type wireSymbol struct

### FileSymbols [struct]
sig: type FileSymbols struct

### ParseIssue [struct]
sig: type ParseIssue struct

### ParseResult [struct]
sig: type ParseResult struct

## internal/state/state.go
imports: [encoding/json, github.com/skelly-dev/skelly/internal/parser, os, path/filepath, sort, time]

### FileState [struct]
sig: type FileState struct

### State [struct]
sig: type State struct

### NewState [func]
sig: func NewState() *State
called_by: [cmd/skelly/main.go|162|func|runInit|85fdc691, cmd/skelly/main.go|514|func|persistState|75da3e31, cmd/skelly/main.go|702|func|runStatus|bb747c9d, internal/state/state.go|50|func|Load|f5f32848, internal/state/state_test.go|29|func|TestImpactedFilesClosure|fc5bdd1f, internal/state/state_test.go|8|func|TestChangedAndDeletedFiles|a5e7757f]

### Load [func]
sig: func Load(contextDir string) (*State, error)
calls: [internal/state/state.go|225|func|migrateState|552e215a{resolved}, internal/state/state.go|40|func|NewState|fa5f911c{resolved}]
called_by: [cmd/skelly/integration_test.go|220|func|TestUpdateJSONLTracksArtifactHashesIncrementally|8d5c8de7, cmd/skelly/main.go|2166|func|loadOutputHashesFromState|cdb572eb, cmd/skelly/main.go|364|func|generateContext|6722d3e0, cmd/skelly/main.go|526|func|runUpdate|b18e5b16, cmd/skelly/main.go|702|func|runStatus|bb747c9d, cmd/skelly/main.go|837|func|runEnrich|b04320d1]

### Save [method]
sig: (s *State) func Save(contextDir string) error
called_by: [cmd/skelly/main.go|162|func|runInit|85fdc691]

### SetFileHash [method]
sig: (s *State) func SetFileHash(file, hash string)

### SetFileData [method]
sig: (s *State) func SetFileData(file parser.FileSymbols)

### GetFileHash [method]
sig: (s *State) func GetFileHash(file string) (string, bool)
called_by: [internal/state/state.go|127|method|HasChanged|754ff82d]

### HasChanged [method]
sig: (s *State) func HasChanged(file, currentHash string) bool
calls: [internal/state/state.go|118|method|GetFileHash|7cacf88b{resolved}]
called_by: [internal/state/state.go|141|method|ChangedFiles|3cedb943]

### RemoveFile [method]
sig: (s *State) func RemoveFile(file string)

### ChangedFiles [method]
sig: (s *State) func ChangedFiles(currentHashes map[string]string) []string
calls: [internal/state/state.go|127|method|HasChanged|754ff82d{resolved}]

### DeletedFiles [method]
sig: (s *State) func DeletedFiles(currentFiles map[string]bool) []string

### ImpactedFiles [method]
sig: (s *State) func ImpactedFiles(changedFiles, deletedFiles []string) []string

### SetOutputHash [method]
sig: (s *State) func SetOutputHash(path, hash string)

### GetOutputHash [method]
sig: (s *State) func GetOutputHash(path string) (string, bool)

### migrateState [func]
sig: func migrateState(s *State)
called_by: [internal/state/state.go|50|func|Load|f5f32848]

## internal/state/state_test.go
imports: [reflect, testing]

### TestChangedAndDeletedFiles [func]
sig: func TestChangedAndDeletedFiles(t *testing.T)
calls: [internal/state/state.go|40|func|NewState|fa5f911c{heuristic}, internal/state/state_test.go|42|func|expectSet|4b8d03ed{resolved}]

### TestImpactedFilesClosure [func]
sig: func TestImpactedFilesClosure(t *testing.T)
calls: [internal/state/state.go|40|func|NewState|fa5f911c{heuristic}]

### expectSet [func]
sig: func expectSet(t *testing.T, got, want []string)
called_by: [internal/state/state_test.go|8|func|TestChangedAndDeletedFiles|a5e7757f]

